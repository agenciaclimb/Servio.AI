rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    // Allow authenticated users to write to a 'jobs/{jobId}/{fileName}' path
    // We will secure this by using signed URLs from the backend, so direct client writes can be restricted.
    match /jobs/{jobId}/{allPaths=**} {
      allow read, write: if request.auth != null;
    }
  }
}