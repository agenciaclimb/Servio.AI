
> servio-ai-frontend@0.0.0 test
> vitest run --coverage --run


[1m[7m[36m RUN [39m[27m[22m [36mv2.1.9 [39m[90mC:/Users/JE/servio.ai[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mÃ”Â£Ã´[39m tests/errorTranslator.test.ts [2m([22m[2m31 tests[22m[2m)[22m[90m 54[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39m
[TEST 1] Setup admin authentication...

 [32mÃ”Â£Ã´[39m tests/adminMetrics.test.ts [2m([22m[2m16 tests[22m[2m)[22m[90m 126[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/coverage-boost.test.ts [2m([22m[2m21 tests[22m[2m)[22m[90m 247[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/critical-components-coverage.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 234[2mms[22m[39m
stderr | tests/api.errorHandling.test.ts > apiCall - Error Handling > E_TIMEOUT - AbortController > deve lanâ”œÂºar E_TIMEOUT quando AbortError ocorre
[api] Timeout on /api/stripe/create-connect-account Error: Tempo de resposta excedido. Tente novamente.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:96:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'E_TIMEOUT'
}

stderr | tests/api.test.ts > API Service > Error Handling > deve lanâ”œÂºar erro em operaâ”œÂºâ”œÃes crâ”œÂ¡ticas sem fallback
Failed to create job: Error: Falha de rede. Verifique sua conexâ”œÃºo.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:103:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createJob (C:\Users\JE\servio.ai\services\api.ts:368:12) {
  code: 'E_NETWORK'
}

 [32mÃ”Â£Ã´[39m tests/api.errorHandling.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 76[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.test.ts [2m([22m[2m19 tests[22m[2m)[22m[90m 100[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.edgecases.test.ts [2m([22m[2m17 tests[22m[2m)[22m[90m 196[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39mÃ”Â£Ã´ Admin created: admin-test-1763596486730@servio.test

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39mÃ”Â£Ã´ Client created: client-analytics-1763596488819@servio.test

 [32mÃ”Â£Ã´[39m tests/AIJobRequestWizard.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 2140[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AIJobRequestWizard[2m > [22mfaz upload de arquivo e inclui media no onSubmit [33m350[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39mÃ”Â£Ã´ Provider created: provider-analytics-1763596489331@servio.test

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m02 lists users including test subset
[22m[39m
[TEST 2] Fetch all users for analytics...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m02 lists users including test subset
[22m[39mÃ”Â£Ã´ Fetched 908 users (test subset: 899) successfully

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m03 creates and completes job with earnings
[22m[39m
[TEST 3] Create job for analytics data...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m03 creates and completes job with earnings
[22m[39mÃ”Â£Ã´ Job created: asDWZEaTYmCI1vmtxfS6

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m03 creates and completes job with earnings
[22m[39mÃ”Â£Ã´ Job completed with earnings

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m04 aggregates revenue metrics
[22m[39m
[TEST 4] Verify analytics includes revenue data...

 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.actions.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 4750[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mpermite avanâ”œÂºar status de job e abrir chat [33m1854[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mabre modal de proposta para job normal e envia proposta [33m976[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mfiltra disponâ”œÂ¡veis por categoria e localizaâ”œÂºâ”œÃºo e limpa filtros [33m461[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22menvia mensagem e confirma agendamento via ChatModal [33m801[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mgera email de indicaâ”œÂºâ”œÃºo e exibe modal de convite [33m584[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m04 aggregates revenue metrics
[22m[39mÃ”Â£Ã´ Total revenue: R$ 44700.00
Ã”Â£Ã´ Platform revenue: R$ 8917.50

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39m
[TEST 5] Create dispute for resolution testing...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Â£Ã´ Dispute created: i6PmD1pRkEwuHLYsU8D6

[TEST 6] Fetch disputes for analytics...

 [32mÃ”Â£Ã´[39m tests/components/ReviewModal.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 6780[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mshows error when submitting without rating [33m1379[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mallows user to enter comment [33m483[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mcalls onClose when cancel button is clicked [33m756[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mgenerates AI comment when button is clicked [33m672[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mshows error when AI generation fails [33m575[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mshows error when trying to generate AI comment without rating [33m680[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mdisables submit button when rating is 0 [33m798[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22menables submit button after rating is selected [33m640[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22msubmits review with rating and comment [33m630[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Â£Ã´ Total disputes: 278
Ã”Â£Ã´ Open disputes: 278
Ã”Â£Ã´ Resolved disputes: 0

[TEST 6b] Seed escrow for job (optional)...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Ã¥Ã€ Skipped: test-utils escrow seeding not available

[TEST 7] Resolve dispute as admin...

 [32mÃ”Â£Ã´[39m tests/PaymentModal.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 6857[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mchama onClose quando clicar no botâ”œÃºo Cancelar [33m1369[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mchama onClose quando clicar no botâ”œÃºo X [33m603[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mchama onConfirmPayment e exibe loading ao clicar em Pagar [33m673[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mexibe mensagem de erro quando onConfirmPayment falha [33m691[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mdesabilita botâ”œÃes durante loading [33m765[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mmostra aâ”œÂºâ”œÃºo de Tentar novamente quando erro for E_TIMEOUT e permite retry [33m1388[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mmostra aâ”œÂºâ”œÃºo de Tentar novamente quando erro for E_NETWORK [33m1008[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Ã¥Ã€ Resolution skipped: 404 - {"error":"Escrow record not found for this job."}
  (Endpoint requer escrow configurado - teste manual necessâ”œÃ­rio)

[TEST 8] Verify dispute resolution in analytics...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Ã¥Ã€ Skipped: dispute resolution was not completed (requires escrow setup)

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m09 creates sentiment alert
[22m[39m
[TEST 9] Create fraud alert for analytics...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m09 creates sentiment alert
[22m[39mÃ”Â£Ã´ Fraud alert created with risk score: 8

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m10 lists sentiment alerts
[22m[39m
[TEST 10] Fetch fraud alerts for analytics...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m10 lists sentiment alerts
[22m[39mÃ”Â£Ã´ Total fraud alerts: 294
Ã”Â£Ã´ New alerts: 294
Ã”Â£Ã´ High risk alerts: 294

 [32mÃ”Â£Ã´[39m tests/AdminDashboard.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 7072[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve exibir analytics apâ”œâ”‚s carregamento [33m437[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve filtrar jobs por status [33m2541[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve permitir suspender um provedor [33m1205[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve chamar mediaâ”œÂºâ”œÃºo de disputa ao clicar em "Mediar" [33m1158[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve navegar entre abas do dashboard [33m1220[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/e2e_admin_dashboard.test.mjs [2m([22m[2m7 tests[22m[2m)[22m[33m 9665[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m01 creates admin, client, provider users [33m2918[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m02 lists users including test subset [33m1786[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m03 creates and completes job with earnings [33m848[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m04 aggregates revenue metrics [33m1006[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m05-08 dispute flow (skipped if endpoint missing) [33m2199[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m10 lists sentiment alerts [33m624[2mms[22m[39m
stderr | tests/errorMessages.test.ts > errorMessages > createErrorHandler > cria handler que retorna mensagem e aâ”œÂºâ”œÃºo
[Error] {
  timestamp: '2025-11-19T23:54:58.142Z',
  context: 'payment',
  code: 'E_NETWORK',
  message: 'Network error',
  status: undefined,
  details: undefined,
  stack: undefined
}

stderr | tests/errorMessages.test.ts > errorMessages > createErrorHandler > chama callback de retry quando aâ”œÂºâ”œÃºo â”œÂ® executada
[Error] {
  timestamp: '2025-11-19T23:54:58.148Z',
  context: 'unknown',
  code: 'E_NETWORK',
  message: 'Network error',
  status: undefined,
  details: undefined,
  stack: undefined
}

stderr | tests/errorMessages.test.ts > errorMessages > createErrorHandler > chama callback de auth quando aâ”œÂºâ”œÃºo â”œÂ® login
[Error] {
  timestamp: '2025-11-19T23:54:58.158Z',
  context: 'unknown',
  code: 'E_AUTH',
  message: 'Unauthorized',
  status: undefined,
  details: undefined,
  stack: undefined
}

 [32mÃ”Â£Ã´[39m tests/errorMessages.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 79[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.usersAndMessages.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 85[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ChatModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 11998[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mrenderiza cabeâ”œÂºalho e mensagens bâ”œÃ­sicas [33m519[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mbloqueia envio quando outra parte nâ”œÃºo existe [33m3087[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22menvia mensagem de texto e limpa input [33m1989[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mmostra sugestâ”œÃºo da IA e envia resumo como notificaâ”œÂºâ”œÃºo de sistema [33m1975[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mexibe sugestâ”œÃºo de agendamento via IA (proposeScheduleFromChat) e confirma [33m954[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mpermite sugerir agendamento manual e envia schedule_proposal [33m2434[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mmostra proposta de agendamento recebida e permite confirmar [33m1006[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/DisputeModal.unit.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 5893[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mrenderiza cabeâ”œÂºalho e nota de pagamento pausado [33m362[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22menvia mensagem ao submeter quando hâ”œÃ­ texto e outra parte [33m2060[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mnâ”œÃºo envia quando mensagem vazia ou sâ”œâ”‚ espaâ”œÂºos [33m816[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mnâ”œÃºo envia se otherParty estiver ausente [33m1057[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mfecha ao clicar no botâ”œÃºo de fechar [33m487[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22menvia mensagem ao pressionar Enter [33m642[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AuthModal.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 1896[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuthModal[2m > [22mrenderiza tâ”œÂ¡tulo de login e envia credenciais [33m938[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuthModal[2m > [22mem modo register, valida combinaâ”œÂºâ”œÃºo de senhas e mâ”œÂ¡nimo de caracteres [33m351[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/AddItemModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 4737[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mchama onClose ao clicar no botâ”œÃºo fechar [33m1219[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mexibe erro quando arquivo â”œÂ® maior que 4MB [33m1968[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mchama onSave com dados corretos ao salvar [33m903[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ReviewModal.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 10939[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mrenderiza modal com tâ”œÂ¡tulo e campos [33m1703[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mfecha modal ao clicar no botâ”œÃºo X [33m954[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mnâ”œÃºo permite submeter quando rating â”œÂ® 0 (botâ”œÃºo desabilitado) [33m594[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mpermite selecionar rating e submeter review [33m1957[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mpermite submeter review sem comentâ”œÃ­rio [33m1290[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mgera comentâ”œÃ­rio com IA quando botâ”œÃºo â”œÂ® clicado [33m1112[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mexibe erro quando IA falha ao gerar comentâ”œÃ­rio [33m1007[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mdesabilita botâ”œÃºo de gerar IA quando rating nâ”œÃºo foi selecionado [33m810[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mexibe mensagem de erro ao tentar gerar IA sem rating [33m792[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mdesabilita botâ”œÃºo submit quando rating â”œÂ® 0 [33m713[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AuctionRoomModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 6496[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuctionRoomModal[2m > [22mrenderiza estrutura bâ”œÃ­sica (tâ”œÂ¡tulo, descriâ”œÂºâ”œÃºo, histâ”œâ”‚rico) [33m1105[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuctionRoomModal[2m > [22mordena lances por valor e destaca menor lance [33m634[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuctionRoomModal[2m > [22mvalida e envia lance menor que o menor existente [33m4105[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuctionRoomModal[2m > [22mcontador encerra apâ”œâ”‚s expirar (fake timers) [33m368[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ProposalListModal.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 5318[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mrenderiza modal com propostas ordenadas por preâ”œÂºo [33m477[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mchama onClose ao clicar no botâ”œÃºo fechar [33m2071[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mrepassa onAcceptProposal para ProposalDetailCard [33m1285[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mrepassa onViewProfile para ProposalDetailCard [33m1256[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProposalModal.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 12963[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mrenderiza modal com informaâ”œÂºâ”œÃes do job [33m443[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mfecha modal ao clicar no X [33m2557[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mpermite enviar proposta com preâ”œÂºo e mensagem [33m3170[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mexibe erro quando preâ”œÂºo â”œÂ® invâ”œÃ­lido [33m2113[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mgera mensagem com IA quando botâ”œÃºo â”œÂ® clicado [33m1301[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mexibe erro quando IA falha ao gerar mensagem [33m1466[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mpermite submeter proposta sem mensagem [33m1606[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderOnboarding.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 8168[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve renderizar a primeira etapa (Welcome) e a barra de progresso por padrâ”œÃºo [33m388[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve exibir um erro de validaâ”œÂºâ”œÃºo e nâ”œÃºo avanâ”œÂºar se a biografia for muito curta [33m3016[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve avanâ”œÂºar para a prâ”œâ”‚xima etapa e chamar a API de atualizaâ”œÂºâ”œÃºo ao preencher os dados corretamente [33m2919[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve chamar as APIs do Stripe e redirecionar na etapa de pagamento [33m1833[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ClientDashboard.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 28246[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mrenderiza tabs e saudaâ”œÂºâ”œÃºo apâ”œâ”‚s o loading [33m7542[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22malternâ”œÃ³ncia de tabs e estados vazios (serviâ”œÂºos/itens/ajuda) [33m4406[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22maâ”œÂºâ”œÃºo râ”œÃ­pida "Solicitar Serviâ”œÂºo" dispara callback [33m2378[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mbotâ”œÃºo "+ Novo Serviâ”œÂºo" em "Meus Serviâ”œÂºos" dispara callback [33m3383[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mFluxo de Pagamento[2m > [22mdeve abrir o modal de pagamento ao aceitar uma proposta [33m1685[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mFluxo de Pagamento[2m > [22mdeve chamar a API de checkout e redirecionar ao confirmar o pagamento [33m4653[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mFluxo de Pagamento[2m > [22mdeve fechar o modal de pagamento ao clicar em cancelar [33m4193[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.payments.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 76[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/DisputeDetailsModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 4914[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeDetailsModal[2m > [22mrenderiza modal quando isOpen=true [33m801[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeDetailsModal[2m > [22mfecha modal ao clicar no botâ”œÃºo X [33m3270[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/modals.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 5970[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mDisputeModal[2m > [22mrenderiza mensagens existentes e envia nova mensagem [33m1257[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mDisputeModal[2m > [22mnâ”œÃºo envia mensagem vazia [33m1594[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mReviewModal[2m > [22menvia avaliaâ”œÂºâ”œÃºo com rating e comentâ”œÃ­rio [33m1366[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mServiceCatalogModal[2m > [22madiciona e remove serviâ”œÂºo do catâ”œÃ­logo [33m1526[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.more.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 158[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/JobCard.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 6213[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mrenderiza informaâ”œÂºâ”œÃes bâ”œÃ­sicas e preâ”œÂºo fixo quando tabelado [33m2629[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mmostra botâ”œÃºo de FAQ e abre modal com FAQ gerada [33m1253[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mem modo leilâ”œÃºo exibe menor lance atual [33m967[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mdesabilita botâ”œÃºo em leilâ”œÃºo quando jâ”œÃ­ propâ”œâ”¤s e mostra texto adequado [33m584[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mem serviâ”œÂºo nâ”œÃºo-leilâ”œÃºo, com proposta enviada, mantâ”œÂ®m botâ”œÃºo habilitado e altera o texto [33m502[2mms[22m[39m
 [31mÃ”Ã˜Â»[39m tests/ClientDashboard.scheduleAndChat.test.tsx [2m([22m[2m3 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 28405[2mms[22m[39m
[31m   [31mâ”œÃ¹[31m ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve)[2m > [22mconfirma agendamento a partir de uma proposta recebida no chat[33m 16821[2mms[22m[31m[39m
[31m     Ã”Ã¥Ã† expected false to be true // Object.is equality[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve)[2m > [22mmostra aviso ao tentar salvar perfil sem campos obrigatâ”œâ”‚rios [33m6409[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve)[2m > [22mexibe toast de erro ao falhar envio de mensagem [33m5170[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ClientJobCard.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 5777[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mrenderiza job com status ativo e contador de propostas [33m313[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mchama onViewProposals ao clicar em Ver Propostas [33m2452[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mdesabilita botâ”œÃºo Ver Propostas quando nâ”œÃºo hâ”œÃ­ propostas [33m339[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mexibe botâ”œÃºo de leilâ”œÃºo quando status â”œÂ® em_leilao [33m565[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mexibe botâ”œÃes Chat e Mapa quando status â”œÂ® proposta_aceita [33m1326[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mexibe botâ”œÃºo Finalizar e Avaliar quando status â”œÂ® pagamento_pendente [33m377[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/DisputeModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 4387[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22mrenders dispute modal [33m381[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22mcalls onClose when close button is clicked [33m2014[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22mallows user to type a message [33m516[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22msends message when form is submitted [33m445[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22mdoes not send empty message [33m589[2mms[22m[39m
stderr | tests/api.proposals.test.ts > Proposal Management > createProposal > valida preâ”œÂºo mâ”œÂ¡nimo na proposta
Failed to create proposal: Error: Erro interno do servidor. Tente mais tarde.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:90:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createProposal (C:\Users\JE\servio.ai\services\api.ts:440:12)
    at C:\Users\JE\servio.ai\tests\api.proposals.test.ts:50:7
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15) {
  code: 'E_SERVER',
  details: { error: 'Preâ”œÂºo mâ”œÂ¡nimo â”œÂ® R$ 50' }
}

stderr | tests/api.proposals.test.ts > Proposal Management > createProposal > valida descriâ”œÂºâ”œÃºo obrigatâ”œâ”‚ria
Failed to create proposal: Error: Falha de rede. Verifique sua conexâ”œÃºo.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:103:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createProposal (C:\Users\JE\servio.ai\services\api.ts:440:12) {
  code: 'E_NETWORK'
}

stderr | tests/api.proposals.test.ts > Proposal Management > createProposal > previne duplicata de proposta do mesmo provider
Failed to create proposal: Error: Erro interno do servidor. Tente mais tarde.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:90:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createProposal (C:\Users\JE\servio.ai\services\api.ts:440:12)
    at C:\Users\JE\servio.ai\tests\api.proposals.test.ts:71:7
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15) {
  code: 'E_SERVER',
  details: { error: 'Proposta jâ”œÃ­ existe para este job' }
}

 [32mÃ”Â£Ã´[39m tests/api.proposals.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 104[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AIJobRequestWizard.coverage.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[90m 47[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ConfirmDialog.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 379[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Pagination.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 651[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.matchProviders.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 52[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/Header.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 3182[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Header[2m > [22mchama onLoginClick ao clicar em "Entrar" [33m1230[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Header[2m > [22mchama onLogoutClick ao clicar em "Sair" [33m350[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Header[2m > [22mchama onSetView ao clicar no logo [33m349[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Header[2m > [22mrenderiza link "Encontrar Profissionais" [33m314[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/App.integration.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 3678[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m App Ã”Ã‡Ã´ integraâ”œÂºâ”œÃºo leve de rotas e auth[2m > [22mrenderiza home com HeroSection por padrâ”œÃºo [33m536[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m App Ã”Ã‡Ã´ integraâ”œÂºâ”œÃºo leve de rotas e auth[2m > [22mnavega para "Encontrar Profissionais" e carrega dados [33m2542[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ProgressBar.test.tsx [2m([22m[2m17 tests[22m[2m)[22m[33m 2078[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProgressBar[2m > [22mrenderiza barra de progresso com valor correto [33m1243[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/FindProvidersPage.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 3025[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m FindProvidersPage[2m > [22mmostra contagem e lista resultados com filtros e ordenaâ”œÂºâ”œÃºo [33m2043[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m FindProvidersPage[2m > [22mexecuta busca com IA (fallback) via formulâ”œÃ­rio superior [33m973[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Avatar.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 530[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/analytics.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 29[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.profileStrength.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 576[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ ProfileStrength e salvar perfil[2m > [22mabre modal de perfil e salva alteraâ”œÂºâ”œÃes, incluindo ramo de fraude suspeita [33m562[2mms[22m[39m
stderr | tests/components/PaymentSetupCard.test.tsx > PaymentSetupCard > shows toast on API error
Failed to start Stripe onboarding: Error: network
    at C:\Users\JE\servio.ai\tests\components\PaymentSetupCard.test.tsx:71:64
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/components/Tooltip.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 546[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ClientDashboard.coverage.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[90m 24[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/PaymentSetupCard.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 2834[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentSetupCard[2m > [22mrenders setup button and triggers account creation flow [33m2019[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentSetupCard[2m > [22mfor connected account, shows manage button [33m385[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentSetupCard[2m > [22mshows toast on API error [33m426[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1254[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard[2m > [22mrenderiza dashboard do provedor sem erros [33m715[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ItemCard.complete.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 2229[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard - Complete Functionality[2m > [22mcalls onClick when card is clicked [33m1046[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard - Complete Functionality[2m > [22mhas correct styling classes [33m322[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AdminDashboard.navigation.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 2206[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Tab Navigation[2m > [22mdeve navegar para a aba "Jobs" e exibir seu conteâ”œâ•‘do ao ser clicada [33m1295[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Tab Navigation[2m > [22mdeve navegar entre mâ”œâ•‘ltiplas abas corretamente [33m683[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderJobCard.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 3560[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mchama onUpdateStatus para a_caminho quando status agendado [33m1900[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mchama onUpdateStatus para em_progresso quando status a_caminho [33m553[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mmostra botâ”œÃºo para abrir chat com cliente e chama onChat [33m538[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.verify.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1801[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ verificaâ”œÂºâ”œÃºo & onboarding[2m > [22mmostra aviso amarelo quando verificaâ”œÂºâ”œÃºo estâ”œÃ­ pendente [33m393[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ verificaâ”œÂºâ”œÃºo & onboarding[2m > [22mmostra CTA de verificaâ”œÂºâ”œÃºo e abre onboarding ao clicar em Verificar Agora [33m1382[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AdminDashboard.actions.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 686[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Ã”Ã‡Ã´ abas e mediaâ”œÂºâ”œÃºo de disputas[2m > [22malternar entre todas as abas [33m417[2mms[22m[39m
stderr | tests/AdminDashboard.errors.test.tsx > AdminDashboard Ã”Ã‡Ã´ cenâ”œÃ­rios de erro > exibe toast de erro ao falhar resolver disputa e fecha modal no finally
Falha ao resolver a disputa: Error: fail
    at C:\Users\JE\servio.ai\tests\AdminDashboard.errors.test.tsx:49:57
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/AdminDashboard.errors.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 604[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Ã”Ã‡Ã´ cenâ”œÃ­rios de erro[2m > [22mexibe toast de erro quando handleMediateClick falha [33m384[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/a11yHelpers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 31[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ItemCard.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 1878[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard[2m > [22maciona onClick quando clicado [33m1365[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/NotificationsBell.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 4668[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsBell[2m > [22mexibe badge com contador de nâ”œÃºo lidas e abre o popover ao clicar [33m2751[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsBell[2m > [22mmarca todas como lidas e fecha o popover [33m1327[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsBell[2m > [22mfecha o popover ao clicar fora [33m583[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/OnboardingStepProfile.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 8124[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve renderizar o tâ”œÂ¡tulo e o campo de input corretamente [33m2308[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve permitir ao usuâ”œÃ­rio adicionar uma nova especialidade [33m1338[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve limpar o input apâ”œâ”‚s adicionar uma especialidade [33m1716[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve permitir remover uma especialidade existente [33m367[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mnâ”œÃºo deve adicionar uma especialidade duplicada ou vazia [33m2389[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/geminiService.resolveEndpoint.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 36[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/EmptyState.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 369[2mms[22m[39m
stderr | tests/e2e/error-handling.test.ts > [E2E-SMOKE] Error Handling API > Timeout Ã”Ã¥Ã† retorna lista bâ”œÃ­sica de providers (fallback)
[api] Timeout on /api/match-providers Error: Tempo de resposta excedido. Tente novamente.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:96:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.matchProvidersForJob (C:\Users\JE\servio.ai\services\api.ts:700:12)
    at C:\Users\JE\servio.ai\tests\e2e\error-handling.test.ts:42:23
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5) {
  code: 'E_TIMEOUT'
}

 [32mÃ”Â£Ã´[39m tests/e2e/error-handling.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 68[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/NotificationsPopover.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 2111[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsPopover[2m > [22mrenderiza lista e botâ”œÃºo de marcar todas quando hâ”œÃ­ nâ”œÃºo lidas [33m1704[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsPopover[2m > [22maciona onMarkAsRead ao clicar em item [33m330[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ErrorBoundary.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1471[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ErrorBoundary[2m > [22mexibe botâ”œÃºo "Tentar novamente" quando hâ”œÃ­ erro [33m1042[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProfileTips.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1555[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileTips[2m > [22mdispara onEditProfile ao clicar em Editar Perfil [33m1247[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ServiceRequestForm.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 8190[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceRequestForm[2m > [22mstarts with disabled submit [33m2447[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceRequestForm[2m > [22menables submit after description and category selected then calls onSubmit [33m3173[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceRequestForm[2m > [22mshows loading state and disables submit when isLoading true [33m2561[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/SitemapGenerator.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 4784[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m SitemapGenerator[2m > [22mrenders base, provider, service and service-location URLs [33m4131[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m SitemapGenerator[2m > [22mcalls onClose when close button clicked [33m646[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.coverage.bump.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 40[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/geminiService.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 380[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m geminiService[2m > [22menhanceJobRequest falls back to heuristic on backend failure [33m360[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/StatusBadge.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 3634[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m StatusBadge[2m > [22mrenderiza badge com status success [33m1672[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m StatusBadge[2m > [22mrenderiza badge com status warning [33m336[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m StatusBadge[2m > [22mrenderiza badge com status info [33m339[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m StatusBadge[2m > [22mrenderiza badge tamanho large [33m361[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/MaintenanceSuggestions.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 2504[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m MaintenanceSuggestions[2m > [22mrenders suggestions and triggers onSuggestJob [33m2469[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProfileStrength.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1993[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileStrength[2m > [22mrenderiza indicador de forâ”œÂºa do perfil [33m326[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileStrength[2m > [22mmostra botâ”œÃºo para completar perfil quando incompleto [33m1551[2mms[22m[39m
stderr | tests/e2e/stripe-timeout-retry.test.ts > [E2E-SMOKE] Stripe Timeout + Retry > createCheckoutSession: 1â”¬Â¬ tentativa E_TIMEOUT Ã”Ã¥Ã† 2â”¬Â¬ tentativa sucesso
[api] Timeout on /create-checkout-session Error: Tempo de resposta excedido. Tente novamente.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:58:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:96:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'E_TIMEOUT'
}

 [32mÃ”Â£Ã´[39m tests/e2e/stripe-timeout-retry.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 53[2mms[22m[39m
stderr | tests/components/ServiceLandingPage.test.tsx > ServiceLandingPage > shows error on API failure
Error: network
    at C:\Users\JE\servio.ai\tests\components\ServiceLandingPage.test.tsx:38:59
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/components/ServiceLandingPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 698[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceLandingPage[2m > [22mshows empty state when no providers match category [33m449[2mms[22m[39m
stderr | tests/geminiService.more.test.ts > geminiService Ã”Ã‡Ã´ resilience and URL resolution > getMatchingProviders falls back to [] on persistent failure
[match-providers] Fallback to empty list due to backend error: Error: first fail
    at fetchFromBackend (C:\Users\JE\servio.ai\services\geminiService.ts:143:19)
    at Module.getMatchingProviders (C:\Users\JE\servio.ai\services\geminiService.ts:205:16)
    at C:\Users\JE\servio.ai\tests\geminiService.more.test.ts:35:17
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/geminiService.more.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 805[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m geminiService Ã”Ã‡Ã´ resilience and URL resolution[2m > [22mgenerateJobFAQ retries once after network error and succeeds [33m364[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m geminiService Ã”Ã‡Ã´ resilience and URL resolution[2m > [22mgetMatchingProviders falls back to [] on persistent failure [33m433[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.positivePaths.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 37[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/CompletedJobCard.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 340[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/PortfolioGallery.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 1850[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PortfolioGallery[2m > [22mopens lightbox on click and closes on overlay click [33m1638[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ItemCard.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 3304[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard[2m > [22mrenderiza com imagem quando imageUrl estâ”œÃ­ presente [33m1933[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard[2m > [22maciona onClick ao clicar [33m1260[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/LocationMap.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 358[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Spinner.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 360[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderSearchResultCard.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 1819[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderSearchResultCard[2m > [22mrenderiza infos e estrelas e dispara callbacks [33m1807[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.admin.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 37[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/TimePeriodFilter.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 2515[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m TimePeriodFilter[2m > [22mmarks selected period and calls onSelectPeriod on click [33m2508[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/firebaseConfig.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 27[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/e2e/payment-errors.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 53[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/e2e/ai-fallback.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 571[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m [E2E-SMOKE] AI Fallback[2m > [22menhanceJobRequest Ã”Ã¥Ã† retorna objeto heurâ”œÂ¡stico quando backend falha [33m558[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/AISchedulingAssistant.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 415[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AISchedulingAssistant[2m > [22mrenderiza sugestâ”œÃºo e aciona callbacks [33m399[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProfileModal.save.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 2305[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileModal[2m > [22msubmits parsed specialties and calls onSave [33m2291[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/smoke.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 14[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/StructuredDataSEO.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 162[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/LocationMap.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 256[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/PublicContactCTA.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 994[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PublicContactCTA[2m > [22mrenders provider name and triggers click [33m986[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 1 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  tests/ClientDashboard.scheduleAndChat.test.tsx > ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve) > confirma agendamento a partir de uma proposta recebida no chat
AssertionError: expected false to be true // Object.is equality

- Expected
+ Received

- true
+ false

 Ã”Ã˜Â» tests/ClientDashboard.scheduleAndChat.test.tsx:111:86
    109|     const after = updater([]);
    110|     expect(Array.isArray(after)).toBe(true);
    111|     expect(after.some(m => String(m.text || '').includes('Agendamento Ã”Ã‡Âª
       |                                                                                      ^
    112| 
    113|     // 2) Outra chamada marca a mensagem original como confirmada

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/1]Ã”Ã„Â»

[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m92 passed[39m[22m[90m (93)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m633 passed[39m[22m[90m (634)[39m
[2m   Start at [22m 20:54:30
[2m   Duration [22m 136.49s[2m (transform 36.99s, setup 343.21s, collect 72.09s, tests 279.90s, environment 848.54s, prepare 126.42s)[22m

