
> servio-ai-frontend@0.0.0 test
> vitest run --coverage


[1m[7m[36m RUN [39m[27m[22m [36mv2.1.9 [39m[90mC:/Users/JE/servio.ai[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mÃ”Â£Ã´[39m tests/critical-components-coverage.test.ts [2m([22m[2m28 tests[22m[2m)[22m[90m 174[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/adminMetrics.test.ts [2m([22m[2m16 tests[22m[2m)[22m[90m 134[2mms[22m[39m
stderr | tests/prospecting.enhanced.test.ts > Enhanced Prospecting Service > analyzeProspectWithAI > should fallback to basic scoring if AI fails
[ProspectingService] AI analysis failed: Error: AI service down
    at C:\Users\JE\servio.ai\tests\prospecting.enhanced.test.ts:68:51
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)

stderr | tests/api.errorHandling.test.ts > apiCall - Error Handling > E_TIMEOUT - AbortController > deve lanâ”œÂºar E_TIMEOUT quando AbortError ocorre
[api] Timeout on /api/stripe/create-connect-account Error: Tempo de resposta excedido. Tente novamente.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:98:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'E_TIMEOUT'
}

stderr | tests/prospecting.enhanced.test.ts > Enhanced Prospecting Service > analyzeProspectWithAI > should handle prospect without rating
[ProspectingService] AI analysis failed: Error: No rating
    at C:\Users\JE\servio.ai\tests\prospecting.enhanced.test.ts:87:51
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)

 [32mÃ”Â£Ã´[39m tests/api.errorHandling.test.ts [2m([22m[2m14 tests[22m[2m)[22m[90m 104[2mms[22m[39m
stderr | tests/prospecting.enhanced.test.ts > Enhanced Prospecting Service > generatePersonalizedEmail > should fallback to basic template if AI fails
[ProspectingService] Email generation failed: Error: AI unavailable
    at C:\Users\JE\servio.ai\tests\prospecting.enhanced.test.ts:145:51
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)

stderr | tests/prospecting.enhanced.test.ts > Enhanced Prospecting Service > sendMultiChannelInvite > should handle channel failures gracefully
[ProspectingService] WhatsApp failed: Error: WhatsApp service down
    at C:\Users\JE\servio.ai\tests\prospecting.enhanced.test.ts:288:32
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)

 [32mÃ”Â£Ã´[39m tests/prospecting.enhanced.test.ts [2m([22m[2m12 tests[22m[2m)[22m[90m 78[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/errorTranslator.test.ts [2m([22m[2m31 tests[22m[2m)[22m[90m 61[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39m
[TEST 1] Setup admin authentication...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39mÃ”Â£Ã´ Admin created: admin-test-1763824681744@servio.test

stderr | tests/api.test.ts > API Service > Error Handling > deve lanâ”œÂºar erro em operaâ”œÂºâ”œÃes crâ”œÂ¡ticas sem fallback
Failed to create job: Error: Falha de rede. Verifique sua conexâ”œÃºo.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:105:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createJob (C:\Users\JE\servio.ai\services\api.ts:613:12) {
  code: 'E_NETWORK'
}

 [32mÃ”Â£Ã´[39m tests/coverage-boost.test.ts [2m([22m[2m21 tests[22m[2m)[22m[90m 198[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.test.ts [2m([22m[2m19 tests[22m[2m)[22m[90m 188[2mms[22m[39m
stderr | tests/ProspectorDashboard.branches.test.tsx > ProspectorDashboard - Branches Adicionais > exibe leaderboard vazio quando nâ”œÃºo hâ”œÃ­ dados (branch ternâ”œÃ­rio aninhado)
Warning: Cannot update a component (`ProspectorDashboard`) while rendering a different component (`default`). To locate the bad setState() call inside `default`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render
    at default (C:\Users\JE\servio.ai\tests\ProspectorDashboard.branches.test.tsx:30:15)
    at div
    at div
    at div
    at div
    at ProspectorDashboard (C:\Users\JE\servio.ai\components\ProspectorDashboard.tsx:59:32)

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39mÃ”Â£Ã´ Client created: client-analytics-1763824682517@servio.test

 [32mÃ”Â£Ã´[39m tests/prospectorMaterialKit.test.ts [2m([22m[2m35 tests[22m[2m)[22m[90m 110[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m01 creates admin, client, provider users
[22m[39mÃ”Â£Ã´ Provider created: provider-analytics-1763824682914@servio.test

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m02 lists users including test subset
[22m[39m
[TEST 2] Fetch all users for analytics...

stderr | tests/ProspectorDashboard.branches.test.tsx > ProspectorDashboard - Branches Adicionais > mostra mensagem quando smart actions estâ”œÃ­ vazio (branch alternativo)
[ProspectorDashboard] SmartActions fallback: Cannot read properties of undefined (reading 'docs')

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m02 lists users including test subset
[22m[39mÃ”Â£Ã´ Fetched 950 users (test subset: 938) successfully

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m03 creates and completes job with earnings
[22m[39m
[TEST 3] Create job for analytics data...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m03 creates and completes job with earnings
[22m[39mÃ”Â£Ã´ Job created: rZ32H7XTIb7AsmYNX0p4

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m03 creates and completes job with earnings
[22m[39mÃ”Â£Ã´ Job completed with earnings

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m04 aggregates revenue metrics
[22m[39m
[TEST 4] Verify analytics includes revenue data...

 [32mÃ”Â£Ã´[39m tests/AIJobRequestWizard.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 2132[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AIJobRequestWizard[2m > [22mrenderiza o step inicial com campo de descriâ”œÂºâ”œÃºo [33m336[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AIJobRequestWizard[2m > [22mfaz upload de arquivo e inclui media no onSubmit [33m302[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m04 aggregates revenue metrics
[22m[39mÃ”Â£Ã´ Total revenue: R$ 46500.00
Ã”Â£Ã´ Platform revenue: R$ 9277.50

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39m
[TEST 5] Create dispute for resolution testing...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Â£Ã´ Dispute created: 4KCaLfK8v8u2YeV2HSPf

[TEST 6] Fetch disputes for analytics...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Â£Ã´ Total disputes: 290
Ã”Â£Ã´ Open disputes: 290
Ã”Â£Ã´ Resolved disputes: 0

[TEST 6b] Seed escrow for job (optional)...

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Ã¥Ã€ Skipped: test-utils escrow seeding not available

[TEST 7] Resolve dispute as admin...

stderr | tests/ProspectorDashboardUnified.test.tsx > ProspectorDashboard - Unified Layout > should render Column 1 - Mini Leaderboard (Top 5)
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Ã¥Ã€ Resolution skipped: 404 - {"error":"Escrow record not found for this job."}
  (Endpoint requer escrow configurado - teste manual necessâ”œÃ­rio)

[TEST 8] Verify dispute resolution in analytics...

 [32mÃ”Â£Ã´[39m tests/ProspectorDashboard.branches.test.tsx [2m([22m[2m12 tests[22m[2m)[22m[33m 4801[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Branches Adicionais[2m > [22mexibe leaderboard vazio quando nâ”œÃºo hâ”œÃ­ dados (branch ternâ”œÃ­rio aninhado) [33m790[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Branches Adicionais[2m > [22mexibe leaderboard populado com ranking e comissâ”œÃes formatadas [33m400[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Branches Adicionais[2m > [22mexibe smart actions quando disponâ”œÂ¡veis [33m538[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Branches Adicionais[2m > [22malterna entre tabs Dashboard e CRM [33m1612[2mms[22m[39m
stderr | tests/ProspectorDashboardUnified.test.tsx > ProspectorDashboard - Unified Layout > should render Column 3 - Smart Actions
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.

stderr | tests/ProspectorDashboardUnified.test.tsx > ProspectorDashboard - Unified Layout > should render Column 3 - Smart Actions
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m05-08 dispute flow (skipped if endpoint missing)
[22m[39mÃ”Ã¥Ã€ Skipped: dispute resolution was not completed (requires escrow setup)

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m09 creates sentiment alert
[22m[39m
[TEST 9] Create fraud alert for analytics...

 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.actions.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 4227[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mpermite avanâ”œÂºar status de job e abrir chat [33m1907[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mabre modal de proposta para job normal e envia proposta [33m824[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mfiltra disponâ”œÂ¡veis por categoria e localizaâ”œÂºâ”œÃºo e limpa filtros [33m450[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22menvia mensagem e confirma agendamento via ChatModal [33m463[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ aâ”œÂºâ”œÃes e fluxos principais[2m > [22mgera email de indicaâ”œÂºâ”œÃºo e exibe modal de convite [33m452[2mms[22m[39m
[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m09 creates sentiment alert
[22m[39mÃ”Â£Ã´ Fraud alert created with risk score: 8

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m10 lists sentiment alerts
[22m[39m
[TEST 10] Fetch fraud alerts for analytics...

stderr | tests/ProspectorDashboardUnified.test.tsx > ProspectorDashboard - Unified Layout > should render Quick Actions when stats and link available
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.

[90mstdout[2m | tests/e2e_admin_dashboard.test.mjs[2m > [22m[2mAdmin Dashboard E2E (API integration)[2m > [22m[2m10 lists sentiment alerts
[22m[39mÃ”Â£Ã´ Total fraud alerts: 306
Ã”Â£Ã´ New alerts: 306
Ã”Â£Ã´ High risk alerts: 306

stderr | tests/ProspectorDashboardUnified.test.tsx
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.

 [32mÃ”Â£Ã´[39m tests/e2e_admin_dashboard.test.mjs [2m([22m[2m7 tests[22m[2m)[22m[33m 6930[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m01 creates admin, client, provider users [33m1452[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m02 lists users including test subset [33m930[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m03 creates and completes job with earnings [33m674[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m04 aggregates revenue metrics [33m848[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m05-08 dispute flow (skipped if endpoint missing) [33m2165[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Admin Dashboard E2E (API integration)[2m > [22m10 lists sentiment alerts [33m596[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProspectorDashboardUnified.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 5278[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Unified Layout[2m > [22mshould render unified 3-column layout without tabs [33m459[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Unified Layout[2m > [22mshould render Column 1 - Stats Cards [33m1716[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Unified Layout[2m > [22mshould render Column 1 - Badge Progress section [33m509[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Unified Layout[2m > [22mshould render Column 1 - Mini Leaderboard (Top 5) [33m473[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorDashboard - Unified Layout[2m > [22mshould render Column 3 - Smart Actions [33m573[2mms[22m[39m
stderr | Console.console.warn (C:\Users\JE\servio.ai\tests\setup.ts:51:16)
[ProspectorDashboard] SmartActions fallback: Missing or insufficient permissions.

 [32mÃ”Â£Ã´[39m tests/api.edgecases.test.ts [2m([22m[2m17 tests[22m[2m)[22m[90m 178[2mms[22m[39m
stderr | tests/errorMessages.test.ts > errorMessages > createErrorHandler > cria handler que retorna mensagem e aâ”œÂºâ”œÃºo
[Error] {
  timestamp: '2025-11-22T15:18:11.099Z',
  context: 'payment',
  code: 'E_NETWORK',
  message: 'Network error',
  status: undefined,
  details: undefined,
  stack: undefined
}

stderr | tests/errorMessages.test.ts > errorMessages > createErrorHandler > chama callback de retry quando aâ”œÂºâ”œÃºo â”œÂ® executada
[Error] {
  timestamp: '2025-11-22T15:18:11.106Z',
  context: 'unknown',
  code: 'E_NETWORK',
  message: 'Network error',
  status: undefined,
  details: undefined,
  stack: undefined
}

stderr | tests/errorMessages.test.ts > errorMessages > createErrorHandler > chama callback de auth quando aâ”œÂºâ”œÃºo â”œÂ® login
[Error] {
  timestamp: '2025-11-22T15:18:11.107Z',
  context: 'unknown',
  code: 'E_AUTH',
  message: 'Unauthorized',
  status: undefined,
  details: undefined,
  stack: undefined
}

 [32mÃ”Â£Ã´[39m tests/errorMessages.test.ts [2m([22m[2m22 tests[22m[2m)[22m[90m 37[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AdminDashboard.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 5878[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve renderizar o dashboard do admin com loading inicial [33m334[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve exibir analytics apâ”œâ”‚s carregamento [33m582[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve filtrar jobs por status [33m1726[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve permitir suspender um provedor [33m1003[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve chamar mediaâ”œÂºâ”œÃºo de disputa ao clicar em "Mediar" [33m809[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard[2m > [22mdeve navegar entre abas do dashboard [33m1210[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProspectorQuickActions.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 1119[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/PaymentModal.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 5440[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mchama onClose quando clicar no botâ”œÃºo Cancelar [33m1247[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mchama onClose quando clicar no botâ”œÃºo X [33m466[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mchama onConfirmPayment e exibe loading ao clicar em Pagar [33m505[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mexibe mensagem de erro quando onConfirmPayment falha [33m557[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mdesabilita botâ”œÃes durante loading [33m450[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mmostra aâ”œÂºâ”œÃºo de Tentar novamente quando erro for E_TIMEOUT e permite retry [33m995[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentModal[2m > [22mmostra aâ”œÂºâ”œÃºo de Tentar novamente quando erro for E_NETWORK [33m752[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ReviewModal.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 6095[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mshows error when submitting without rating [33m1823[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mallows user to enter comment [33m537[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mcalls onClose when cancel button is clicked [33m447[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mgenerates AI comment when button is clicked [33m657[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mshows error when AI generation fails [33m379[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mshows error when trying to generate AI comment without rating [33m535[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mdisables submit button when rating is 0 [33m565[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22menables submit button after rating is selected [33m404[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22msubmits review with rating and comment [33m533[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.usersAndMessages.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 43[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/DisputeModal.unit.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 4942[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mrenderiza cabeâ”œÂºalho e nota de pagamento pausado [33m392[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22menvia mensagem ao submeter quando hâ”œÃ­ texto e outra parte [33m1881[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mnâ”œÃºo envia quando mensagem vazia ou sâ”œâ”‚ espaâ”œÂºos [33m735[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mnâ”œÃºo envia se otherParty estiver ausente [33m885[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22mfecha ao clicar no botâ”œÃºo de fechar [33m358[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal (unit)[2m > [22menvia mensagem ao pressionar Enter [33m494[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AuthModal.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 1380[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuthModal[2m > [22mrenderiza tâ”œÂ¡tulo de login e envia credenciais [33m588[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuthModal[2m > [22mem modo register, valida combinaâ”œÂºâ”œÃºo de senhas e mâ”œÂ¡nimo de caracteres [33m337[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ChatModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 7920[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mrenderiza cabeâ”œÂºalho e mensagens bâ”œÃ­sicas [33m447[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mbloqueia envio quando outra parte nâ”œÃºo existe [33m2102[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22menvia mensagem de texto e limpa input [33m1492[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mmostra sugestâ”œÃºo da IA e envia resumo como notificaâ”œÂºâ”œÃºo de sistema [33m1180[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mexibe sugestâ”œÃºo de agendamento via IA (proposeScheduleFromChat) e confirma [33m779[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mpermite sugerir agendamento manual e envia schedule_proposal [33m1401[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ChatModal[2m > [22mmostra proposta de agendamento recebida e permite confirmar [33m510[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AuctionRoomModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 4182[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AuctionRoomModal[2m > [22mvalida e envia lance menor que o menor existente [33m3477[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ProposalListModal.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 2962[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mchama onClose ao clicar no botâ”œÃºo fechar [33m1451[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mrepassa onAcceptProposal para ProposalDetailCard [33m567[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalListModal[2m > [22mrepassa onViewProfile para ProposalDetailCard [33m623[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProposalModal.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 8996[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mrenderiza modal com informaâ”œÂºâ”œÃes do job [33m334[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mfecha modal ao clicar no X [33m1844[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mpermite enviar proposta com preâ”œÂºo e mensagem [33m2693[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mexibe erro quando preâ”œÂºo â”œÂ® invâ”œÃ­lido [33m849[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mgera mensagem com IA quando botâ”œÃºo â”œÂ® clicado [33m987[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mexibe erro quando IA falha ao gerar mensagem [33m983[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProposalModal[2m > [22mpermite submeter proposta sem mensagem [33m1129[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ReviewModal.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 8449[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mrenderiza modal com tâ”œÂ¡tulo e campos [33m1622[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mfecha modal ao clicar no botâ”œÃºo X [33m662[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mnâ”œÃºo permite submeter quando rating â”œÂ® 0 (botâ”œÃºo desabilitado) [33m473[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mpermite selecionar rating e submeter review [33m1404[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mpermite submeter review sem comentâ”œÃ­rio [33m780[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mgera comentâ”œÃ­rio com IA quando botâ”œÃºo â”œÂ® clicado [33m957[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mexibe erro quando IA falha ao gerar comentâ”œÃ­rio [33m763[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mdesabilita botâ”œÃºo de gerar IA quando rating nâ”œÃºo foi selecionado [33m554[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mexibe mensagem de erro ao tentar gerar IA sem rating [33m602[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ReviewModal[2m > [22mdesabilita botâ”œÃºo submit quando rating â”œÂ® 0 [33m624[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/DisputeDetailsModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 2340[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeDetailsModal[2m > [22mfecha modal ao clicar no botâ”œÃºo X [33m1857[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ClientDashboard.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 18270[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mrenderiza tabs e saudaâ”œÂºâ”œÃºo apâ”œâ”‚s o loading [33m5043[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22malternâ”œÃ³ncia de tabs e estados vazios (serviâ”œÂºos/itens/ajuda) [33m3276[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22maâ”œÂºâ”œÃºo râ”œÃ­pida "Solicitar Serviâ”œÂºo" dispara callback [33m1428[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mbotâ”œÃºo "+ Novo Serviâ”œÂºo" em "Meus Serviâ”œÂºos" dispara callback [33m2275[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mFluxo de Pagamento[2m > [22mdeve abrir o modal de pagamento ao aceitar uma proposta [33m745[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mFluxo de Pagamento[2m > [22mdeve chamar a API de checkout e redirecionar ao confirmar o pagamento [33m2541[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard[2m > [22mFluxo de Pagamento[2m > [22mdeve fechar o modal de pagamento ao clicar em cancelar [33m2947[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/modals.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 4225[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mDisputeModal[2m > [22mrenderiza mensagens existentes e envia nova mensagem [33m399[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mDisputeModal[2m > [22mnâ”œÃºo envia mensagem vazia [33m1155[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mReviewModal[2m > [22mbloqueia submit sem rating e exibe erro [33m442[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mReviewModal[2m > [22menvia avaliaâ”œÂºâ”œÃºo com rating e comentâ”œÃ­rio [33m1162[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Modals Suite[2m > [22mServiceCatalogModal[2m > [22madiciona e remove serviâ”œÂºo do catâ”œÃ­logo [33m1060[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/AddItemModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 5465[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mrenderiza modal no step upload inicial [33m305[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mchama onClose ao clicar no botâ”œÃºo fechar [33m1404[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mexibe erro quando arquivo â”œÂ® maior que 4MB [33m2145[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AddItemModal[2m > [22mchama onSave com dados corretos ao salvar [33m900[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.payments.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 53[2mms[22m[39m
stderr | tests/ProspectorOnboarding.test.tsx > ProspectorOnboarding > should save completion state to localStorage when tour is finished
[2025-11-22T15:18:33.444Z]  @firebase/firestore: Firestore (12.5.0): GrpcConnection RPC 'Write' stream 0x48fc808a error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions.
[Analytics] Failed to track event: [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {
  code: 'permission-denied',
  customData: undefined,
  toString: [Function (anonymous)]
}

stderr | tests/ProspectorOnboarding.test.tsx > ProspectorOnboarding > should save skip state to localStorage when tour is skipped
[2025-11-22T15:18:33.895Z]  @firebase/firestore: Firestore (12.5.0): GrpcConnection RPC 'Write' stream 0x48fc808b error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions.
[Analytics] Failed to track event: [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {
  code: 'permission-denied',
  customData: undefined,
  toString: [Function (anonymous)]
}

 [31mÃ”Ã˜Â»[39m tests/ProspectorOnboarding.test.tsx [2m([22m[2m9 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 3065[2mms[22m[39m
[31m   [31mâ”œÃ¹[31m ProspectorOnboarding[2m > [22mshould render tour when user has not seen it[33m 1583[2mms[22m[31m[39m
[31m     Ã”Ã¥Ã† Unable to find an element by: [data-testid="joyride-tour"]

Ignored nodes: comments, script, style
[36m<body>[31m
  [36m<div />[31m
[36m</body>[31m

Ignored nodes: comments, script, style
[36m<html>[31m
  [36m<head />[31m
  [36m<body>[31m
    [36m<div />[31m
  [36m</body>[31m
[36m</html>[31m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorOnboarding[2m > [22mshould save completion state to localStorage when tour is finished [33m720[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProspectorOnboarding[2m > [22mshould save skip state to localStorage when tour is skipped [33m583[2mms[22m[39m
stderr | tests/ProspectorOnboarding.test.tsx
[2025-11-22T15:18:34.330Z]  @firebase/firestore: Firestore (12.5.0): GrpcConnection RPC 'Write' stream 0x48fc808c error. Code: 7 Message: 7 PERMISSION_DENIED: Missing or insufficient permissions.
[Analytics] Failed to track event: [FirebaseError: 7 PERMISSION_DENIED: Missing or insufficient permissions.] {
  code: 'permission-denied',
  customData: undefined,
  toString: [Function (anonymous)]
}

stderr | tests/api.proposals.test.ts > Proposal Management > createProposal > valida preâ”œÂºo mâ”œÂ¡nimo na proposta
Failed to create proposal: Error: Erro interno do servidor. Tente mais tarde.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:92:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createProposal (C:\Users\JE\servio.ai\services\api.ts:685:12)
    at C:\Users\JE\servio.ai\tests\api.proposals.test.ts:50:7
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15) {
  code: 'E_SERVER',
  details: { error: 'Preâ”œÂºo mâ”œÂ¡nimo â”œÂ® R$ 50' }
}

stderr | tests/api.proposals.test.ts > Proposal Management > createProposal > valida descriâ”œÂºâ”œÃºo obrigatâ”œâ”‚ria
Failed to create proposal: Error: Falha de rede. Verifique sua conexâ”œÃºo.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:105:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createProposal (C:\Users\JE\servio.ai\services\api.ts:685:12) {
  code: 'E_NETWORK'
}

stderr | tests/api.proposals.test.ts > Proposal Management > createProposal > previne duplicata de proposta do mesmo provider
Failed to create proposal: Error: Erro interno do servidor. Tente mais tarde.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:92:13)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.createProposal (C:\Users\JE\servio.ai\services\api.ts:685:12)
    at C:\Users\JE\servio.ai\tests\api.proposals.test.ts:71:7
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15) {
  code: 'E_SERVER',
  details: { error: 'Proposta jâ”œÃ­ existe para este job' }
}

 [32mÃ”Â£Ã´[39m tests/api.proposals.test.ts [2m([22m[2m7 tests[22m[2m)[22m[90m 85[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderOnboarding.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 4430[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve exibir um erro de validaâ”œÂºâ”œÃºo e nâ”œÃºo avanâ”œÂºar se a biografia for muito curta [33m1764[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve avanâ”œÂºar para a prâ”œâ”‚xima etapa e chamar a API de atualizaâ”œÂºâ”œÃºo ao preencher os dados corretamente [33m1359[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderOnboarding[2m > [22mdeve chamar as APIs do Stripe e redirecionar na etapa de pagamento [33m1058[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.more.test.ts [2m([22m[2m9 tests[22m[2m)[22m[90m 149[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/JobCard.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 3072[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mrenderiza informaâ”œÂºâ”œÃes bâ”œÃ­sicas e preâ”œÂºo fixo quando tabelado [33m1228[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mmostra botâ”œÃºo de FAQ e abre modal com FAQ gerada [33m734[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mem modo leilâ”œÃºo exibe menor lance atual [33m357[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m JobCard[2m > [22mem serviâ”œÂºo nâ”œÃºo-leilâ”œÃºo, com proposta enviada, mantâ”œÂ®m botâ”œÃºo habilitado e altera o texto [33m324[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ClientJobCard.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 3620[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mrenderiza job com status ativo e contador de propostas [33m427[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mchama onViewProposals ao clicar em Ver Propostas [33m1109[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mdesabilita botâ”œÃºo Ver Propostas quando nâ”œÃºo hâ”œÃ­ propostas [33m591[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientJobCard[2m > [22mexibe botâ”œÃes Chat e Mapa quando status â”œÂ® proposta_aceita [33m665[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/DisputeModal.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 2291[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22mcalls onClose when close button is clicked [33m1004[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m DisputeModal[2m > [22msends message when form is submitted [33m335[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ClientDashboard.scheduleAndChat.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 12966[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve)[2m > [22mconfirma agendamento a partir de uma proposta recebida no chat [33m7208[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve)[2m > [22mmostra aviso ao tentar salvar perfil sem campos obrigatâ”œâ”‚rios [33m3114[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ClientDashboard Ã”Ã‡Ã´ chat & agendamento (integraâ”œÂºâ”œÃºo leve)[2m > [22mexibe toast de erro ao falhar envio de mensagem [33m2635[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.matchProviders.test.ts [2m([22m[2m6 tests[22m[2m)[22m[90m 137[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ConfirmDialog.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 489[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Pagination.test.tsx [2m([22m[2m13 tests[22m[2m)[22m[33m 559[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/App.integration.test.tsx [2m([22m[2m6 tests[22m[2m)[22m[33m 4000[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m App Ã”Ã‡Ã´ integraâ”œÂºâ”œÃºo leve de rotas e auth[2m > [22mrenderiza home com HeroSection por padrâ”œÃºo [33m359[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m App Ã”Ã‡Ã´ integraâ”œÂºâ”œÃºo leve de rotas e auth[2m > [22mnavega para "Encontrar Profissionais" e carrega dados [33m2805[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m App Ã”Ã‡Ã´ integraâ”œÂºâ”œÃºo leve de rotas e auth[2m > [22mdispara listener de evento customizado "open-wizard-from-chat" [33m326[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/Header.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 3055[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Header[2m > [22mchama onLoginClick ao clicar em "Entrar" [33m1341[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m Header[2m > [22mchama onRegisterClick ao clicar em "Cadastre-se" [33m332[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AIJobRequestWizard.coverage.test.tsx [2m([22m[2m15 tests[22m[2m)[22m[90m 40[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Avatar.test.tsx [2m([22m[2m16 tests[22m[2m)[22m[33m 373[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ClientDashboard.coverage.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[90m 37[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/analytics.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 29[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/FindProvidersPage.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 3223[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m FindProvidersPage[2m > [22mmostra contagem e lista resultados com filtros e ordenaâ”œÂºâ”œÃºo [33m2038[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m FindProvidersPage[2m > [22mexecuta busca com IA (fallback) via formulâ”œÃ­rio superior [33m1174[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.profileStrength.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 655[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ ProfileStrength e salvar perfil[2m > [22mabre modal de perfil e salva alteraâ”œÂºâ”œÃes, incluindo ramo de fraude suspeita [33m649[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ProgressBar.test.tsx [2m([22m[2m17 tests[22m[2m)[22m[33m 2416[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProgressBar[2m > [22mrenderiza barra de progresso com valor correto [33m1467[2mms[22m[39m
stderr | tests/components/PaymentSetupCard.test.tsx > PaymentSetupCard > shows toast on API error
Failed to start Stripe onboarding: Error: network
    at C:\Users\JE\servio.ai\tests\components\PaymentSetupCard.test.tsx:71:64
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/components/PaymentSetupCard.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 2673[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentSetupCard[2m > [22mrenders setup button and triggers account creation flow [33m2048[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PaymentSetupCard[2m > [22mshows toast on API error [33m383[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Tooltip.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 526[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.verify.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1817[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard Ã”Ã‡Ã´ verificaâ”œÂºâ”œÃºo & onboarding[2m > [22mmostra CTA de verificaâ”œÂºâ”œÃºo e abre fluxo ao clicar em Verificar Agora [33m1459[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderDashboard.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1122[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderDashboard[2m > [22mrenderiza dashboard do provedor sem erros [33m602[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ItemCard.complete.test.tsx [2m([22m[2m10 tests[22m[2m)[22m[33m 2368[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard - Complete Functionality[2m > [22mcalls onClick when card is clicked [33m1208[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard - Complete Functionality[2m > [22mhas correct styling classes [33m303[2mms[22m[39m
stderr | tests/AdminDashboard.errors.test.tsx > AdminDashboard Ã”Ã‡Ã´ cenâ”œÃ­rios de erro > exibe toast de erro ao falhar resolver disputa e fecha modal no finally
Falha ao resolver a disputa: Error: fail
    at C:\Users\JE\servio.ai\tests\AdminDashboard.errors.test.tsx:49:57
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/AdminDashboard.navigation.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 2522[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Tab Navigation[2m > [22mdeve navegar para a aba "Jobs" e exibir seu conteâ”œâ•‘do ao ser clicada [33m1401[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Tab Navigation[2m > [22mdeve navegar entre mâ”œâ•‘ltiplas abas corretamente [33m925[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AdminDashboard.errors.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 583[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Ã”Ã‡Ã´ cenâ”œÃ­rios de erro[2m > [22mexibe toast de erro quando handleMediateClick falha [33m390[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderJobCard.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 3721[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mchama onUpdateStatus para a_caminho quando status agendado [33m2144[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mchama onUpdateStatus para em_progresso quando status a_caminho [33m631[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mmostra "Ver Disputa" e chama onChat quando em_disputa [33m311[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderJobCard[2m > [22mmostra botâ”œÃºo para abrir chat com cliente e chama onChat [33m335[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/AdminDashboard.actions.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 575[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m AdminDashboard Ã”Ã‡Ã´ abas e mediaâ”œÂºâ”œÃºo de disputas[2m > [22malternar entre todas as abas [33m393[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/OnboardingStepProfile.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 4872[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve renderizar o tâ”œÂ¡tulo e o campo de input corretamente [33m1553[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve permitir ao usuâ”œÃ­rio adicionar uma nova especialidade [33m986[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mdeve limpar o input apâ”œâ”‚s adicionar uma especialidade [33m948[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m OnboardingStepProfile[2m > [22mnâ”œÃºo deve adicionar uma especialidade duplicada ou vazia [33m1149[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/geminiService.resolveEndpoint.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 30[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/a11yHelpers.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 30[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/EmptyState.test.tsx [2m([22m[2m7 tests[22m[2m)[22m[33m 311[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/NotificationsBell.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 3729[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsBell[2m > [22mexibe badge com contador de nâ”œÃºo lidas e abre o popover ao clicar [33m2084[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsBell[2m > [22mmarca todas como lidas e fecha o popover [33m936[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsBell[2m > [22mfecha o popover ao clicar fora [33m699[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ItemCard.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 1327[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard[2m > [22maciona onClick quando clicado [33m1035[2mms[22m[39m
stderr | tests/e2e/error-handling.test.ts > [E2E-SMOKE] Error Handling API > Timeout Ã”Ã¥Ã† retorna lista bâ”œÃ­sica de providers (fallback)
[api] Timeout on /api/match-providers Error: Tempo de resposta excedido. Tente novamente.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:98:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.matchProvidersForJob (C:\Users\JE\servio.ai\services\api.ts:945:12)
    at C:\Users\JE\servio.ai\tests\e2e\error-handling.test.ts:42:23
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5) {
  code: 'E_TIMEOUT'
}

 [32mÃ”Â£Ã´[39m tests/e2e/error-handling.test.ts [2m([22m[2m5 tests[22m[2m)[22m[90m 136[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/NotificationsPopover.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1590[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m NotificationsPopover[2m > [22mrenderiza lista e botâ”œÃºo de marcar todas quando hâ”œÃ­ nâ”œÃºo lidas [33m1263[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/SitemapGenerator.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 2790[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m SitemapGenerator[2m > [22mrenders base, provider, service and service-location URLs [33m2392[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m SitemapGenerator[2m > [22mcalls onClose when close button clicked [33m389[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/StatusBadge.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 2257[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m StatusBadge[2m > [22mrenderiza badge com status success [33m1414[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/ServiceRequestForm.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 6443[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceRequestForm[2m > [22mstarts with disabled submit [33m2673[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceRequestForm[2m > [22menables submit after description and category selected then calls onSubmit [33m2598[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceRequestForm[2m > [22mshows loading state and disables submit when isLoading true [33m1165[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/MaintenanceSuggestions.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 1354[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m MaintenanceSuggestions[2m > [22mrenders suggestions and triggers onSuggestJob [33m1314[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ErrorBoundary.test.tsx [2m([22m[2m4 tests[22m[2m)[22m[33m 1442[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ErrorBoundary[2m > [22mexibe botâ”œÃºo "Tentar novamente" quando hâ”œÃ­ erro [33m1124[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/geminiService.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 329[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m geminiService[2m > [22menhanceJobRequest falls back to heuristic on backend failure [33m320[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.coverage.bump.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 37[2mms[22m[39m
stderr | tests/components/ServiceLandingPage.test.tsx > ServiceLandingPage > shows error on API failure
Error: network
    at C:\Users\JE\servio.ai\tests\components\ServiceLandingPage.test.tsx:38:59
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:146:14
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:11
    at runWithTimeout (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:39:7)
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:17)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

stderr | tests/geminiService.more.test.ts > geminiService Ã”Ã‡Ã´ resilience and URL resolution > getMatchingProviders falls back to [] on persistent failure
[match-providers] Fallback to empty list due to backend error: Error: first fail
    at fetchFromBackend (C:\Users\JE\servio.ai\services\geminiService.ts:143:19)
    at Module.getMatchingProviders (C:\Users\JE\servio.ai\services\geminiService.ts:205:16)
    at C:\Users\JE\servio.ai\tests\geminiService.more.test.ts:35:17
    at file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:533:5
    at runTest (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1056:11)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runSuite (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1205:15)
    at runFiles (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1262:5)
    at startTests (file:///C:/Users/JE/servio.ai/node_modules/@vitest/runner/dist/index.js:1271:3)
    at file:///C:/Users/JE/servio.ai/node_modules/vitest/dist/chunks/runBaseTests.3qpJUEJM.js:126:11

 [32mÃ”Â£Ã´[39m tests/components/ServiceLandingPage.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 688[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ServiceLandingPage[2m > [22mshows empty state when no providers match category [33m410[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/geminiService.more.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 676[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m geminiService Ã”Ã‡Ã´ resilience and URL resolution[2m > [22mgenerateJobFAQ retries once after network error and succeeds [33m326[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m geminiService Ã”Ã‡Ã´ resilience and URL resolution[2m > [22mgetMatchingProviders falls back to [] on persistent failure [33m333[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProfileTips.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1907[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileTips[2m > [22mdispara onEditProfile ao clicar em Editar Perfil [33m1601[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProfileStrength.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 1937[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileStrength[2m > [22mrenderiza indicador de forâ”œÂºa do perfil [33m379[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileStrength[2m > [22mmostra botâ”œÃºo para completar perfil quando incompleto [33m1446[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.positivePaths.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 25[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/Spinner.test.tsx [2m([22m[2m9 tests[22m[2m)[22m[33m 349[2mms[22m[39m
stderr | tests/e2e/stripe-timeout-retry.test.ts > [E2E-SMOKE] Stripe Timeout + Retry > createCheckoutSession: 1â”¬Â¬ tentativa E_TIMEOUT Ã”Ã¥Ã† 2â”¬Â¬ tentativa sucesso
[api] Timeout on /create-checkout-session Error: Tempo de resposta excedido. Tente novamente.
    at makeApiError (C:\Users\JE\servio.ai\services\api.ts:60:15)
    at apiCall (C:\Users\JE\servio.ai\services\api.ts:98:22)
    at processTicksAndRejections (node:internal/process/task_queues:105:5) {
  code: 'E_TIMEOUT'
}

 [32mÃ”Â£Ã´[39m tests/ItemCard.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 2275[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard[2m > [22mrenderiza com imagem quando imageUrl estâ”œÃ­ presente [33m1154[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ItemCard[2m > [22maciona onClick ao clicar [33m1057[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/e2e/stripe-timeout-retry.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 80[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/CompletedJobCard.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 310[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/api.admin.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 26[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/firebaseConfig.test.ts [2m([22m[2m2 tests[22m[2m)[22m[90m 20[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/PortfolioGallery.test.tsx [2m([22m[2m2 tests[22m[2m)[22m[33m 1363[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PortfolioGallery[2m > [22mopens lightbox on click and closes on overlay click [33m1200[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProviderSearchResultCard.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 1526[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProviderSearchResultCard[2m > [22mrenderiza infos e estrelas e dispara callbacks [33m1517[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/e2e/ai-fallback.test.ts [2m([22m[2m2 tests[22m[2m)[22m[33m 568[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m [E2E-SMOKE] AI Fallback[2m > [22menhanceJobRequest Ã”Ã¥Ã† retorna objeto heurâ”œÂ¡stico quando backend falha [33m557[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/LocationMap.test.tsx [2m([22m[2m3 tests[22m[2m)[22m[33m 317[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/e2e/payment-errors.test.ts [2m([22m[2m3 tests[22m[2m)[22m[90m 102[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/badgeUtils.test.ts [2m([22m[2m4 tests[22m[2m)[22m[90m 27[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/TimePeriodFilter.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 2290[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m TimePeriodFilter[2m > [22mmarks selected period and calls onSelectPeriod on click [33m2280[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/ProfileModal.save.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 2482[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m ProfileModal[2m > [22msubmits parsed specialties and calls onSave [33m2468[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/StructuredDataSEO.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 130[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/LocationMap.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 124[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/AISchedulingAssistant.test.tsx [2m([22m[2m1 test[22m[2m)[22m[90m 250[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/smoke.test.ts [2m([22m[2m1 test[22m[2m)[22m[90m 13[2mms[22m[39m
 [32mÃ”Â£Ã´[39m tests/components/PublicContactCTA.test.tsx [2m([22m[2m1 test[22m[2m)[22m[33m 560[2mms[22m[39m
   [33m[2mÃ”Â£Ã´[22m[39m PublicContactCTA[2m > [22mrenders provider name and triggers click [33m555[2mms[22m[39m

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â» Failed Tests 1 Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»

 FAIL  tests/ProspectorOnboarding.test.tsx > ProspectorOnboarding > should render tour when user has not seen it
TestingLibraryElementError: Unable to find an element by: [data-testid="joyride-tour"]

Ignored nodes: comments, script, style
<body>
  <div />
</body>

Ignored nodes: comments, script, style
<html>
  <head />
  <body>
    <div />
  </body>
</html>
 Ã”Ã˜Â» Proxy.waitForWrapper node_modules/@testing-library/dom/dist/wait-for.js:163:27
 Ã”Ã˜Â» tests/ProspectorOnboarding.test.tsx:48:11
     46|     render(<ProspectorOnboarding userId={TEST_USER_ID} />);
     47| 
     48|     await waitFor(() => {
       |           ^
     49|       expect(screen.getByTestId('joyride-tour')).toBeInTheDocument();
     50|     });

Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»Ã”Ã„Â»[1/1]Ã”Ã„Â»

[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m99 passed[39m[22m[90m (100)[39m
[2m      Tests [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m732 passed[39m[22m[90m (733)[39m
[2m   Start at [22m 12:17:48
[2m   Duration [22m 99.99s[2m (transform 28.03s, setup 227.26s, collect 62.74s, tests 217.71s, environment 625.78s, prepare 104.83s)[22m

